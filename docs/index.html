<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>simple_file - Documentation</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="images/logo.png">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="images/logo.png" alt="simple_* logo" class="logo">
        </div>
        <h1>simple_file</h1>
        <p class="tagline">Simple file and directory operations for Eiffel</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html" class="active">Overview</a></li>
            <li><a href="user-guide.html">User Guide</a></li>
            <li><a href="api-reference.html">API Reference</a></li>
            <li><a href="architecture.html">Architecture</a></li>
            <li><a href="cookbook.html">Cookbook</a></li>
            <li><a href="https://github.com/simple-eiffel/simple_file">GitHub</a></li>
        </ul>
    </nav>

    <main>
        <section id="overview">
            <h2>Overview</h2>
            <p>simple_file provides a clean, intuitive API for file and directory operations in Eiffel. It wraps the standard Eiffel file classes with a simpler interface and better error handling.</p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>File Operations</h3>
                    <p>Read, write, copy, move, delete files with simple one-line operations.</p>
                </div>
                <div class="feature-card">
                    <h3>Directory Management</h3>
                    <p>List, create, and delete directories. Find files by pattern.</p>
                </div>
                <div class="feature-card">
                    <h3>Streaming Support</h3>
                    <p>Memory-efficient processing of large files via chunked reading.</p>
                </div>
                <div class="feature-card">
                    <h3>Path Utilities</h3>
                    <p>Cross-platform path manipulation and normalization.</p>
                </div>
            </div>
        </section>

        <section id="quick-start">
            <h2>Quick Start</h2>

            <h3>Installation</h3>
            <ol>
                <li>Set the environment variable:
<pre><code>export SIMPLE_FILE=/path/to/simple_file</code></pre>
                </li>
                <li>Add to your ECF file:
<pre><code>&lt;library name="simple_file" location="$SIMPLE_FILE/simple_file.ecf"/&gt;</code></pre>
                </li>
            </ol>

            <h3>Basic Usage</h3>
<pre><code><span class="keyword">local</span>
    f: <span class="type">SIMPLE_FILE</span>
<span class="keyword">do</span>
    <span class="keyword">create</span> f.make (<span class="string">"myfile.txt"</span>)

    <span class="comment">-- Write content</span>
    f.write_text (<span class="string">"Hello, World!"</span>)

    <span class="comment">-- Read content back</span>
    print (f.read_text)

    <span class="comment">-- Get file info</span>
    print (<span class="string">"Size: "</span> + f.size.out + <span class="string">" bytes"</span>)
<span class="keyword">end</span></code></pre>
        </section>

        <section id="features">
            <h2>Key Features</h2>

            <h3>File Status</h3>
            <ul>
                <li><code>exists</code> - Does file/directory exist?</li>
                <li><code>is_readable</code>, <code>is_writable</code>, <code>is_executable</code> - Permission checks</li>
                <li><code>is_file</code>, <code>is_directory</code>, <code>is_symlink</code> - Type checks</li>
            </ul>

            <h3>File Metadata</h3>
            <ul>
                <li><code>size</code> - File size in bytes</li>
                <li><code>modified_timestamp</code>, <code>accessed_timestamp</code> - Timestamps</li>
                <li><code>extension</code>, <code>base_name</code>, <code>file_name</code> - Name parts</li>
                <li><code>parent_path</code>, <code>path_string</code> - Path information</li>
            </ul>

            <h3>Read Operations</h3>
            <ul>
                <li><code>read_text</code> - Read entire file as text</li>
                <li><code>read_lines</code> - Read as list of lines</li>
                <li><code>read_bytes</code> - Read as byte array</li>
                <li>Streaming: <code>open_read</code>, <code>read_chunk</code>, <code>close</code></li>
            </ul>

            <h3>Write Operations</h3>
            <ul>
                <li><code>write_text</code> - Write text (overwrites)</li>
                <li><code>append_text</code> - Append to existing</li>
                <li><code>write_lines</code>, <code>append_lines</code> - Line-based writing</li>
                <li><code>write_bytes</code> - Binary writing</li>
            </ul>

            <h3>File Management</h3>
            <ul>
                <li><code>copy_to</code> - Copy to destination</li>
                <li><code>move_to</code> - Move to destination</li>
                <li><code>rename_to</code> - Rename in place</li>
                <li><code>delete</code> - Delete file</li>
            </ul>

            <h3>Directory Operations</h3>
            <ul>
                <li><code>list_directory</code> - List contents</li>
                <li><code>create_directory</code>, <code>create_directory_recursive</code></li>
                <li><code>delete_directory</code>, <code>delete_directory_recursive</code></li>
            </ul>
        </section>

        <section id="classes">
            <h2>Classes</h2>

            <table class="api-table">
                <tr>
                    <th>Class</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td><a href="api-reference.html#simple-file"><code>SIMPLE_FILE</code></a></td>
                    <td>Main class for file and directory operations</td>
                </tr>
                <tr>
                    <td><a href="api-reference.html#simple-files"><code>SIMPLE_FILES</code></a></td>
                    <td>Batch operations and pattern matching</td>
                </tr>
                <tr>
                    <td><a href="api-reference.html#simple-path"><code>SIMPLE_PATH</code></a></td>
                    <td>Path manipulation utilities</td>
                </tr>
            </table>
        </section>

        <section id="documentation">
            <h2>Documentation</h2>
            <ul>
                <li><a href="user-guide.html">User Guide</a> - Complete tutorial with examples</li>
                <li><a href="api-reference.html">API Reference</a> - Full API documentation</li>
                <li><a href="architecture.html">Architecture</a> - Internal design and patterns</li>
                <li><a href="cookbook.html">Cookbook</a> - Ready-to-use recipes</li>
            </ul>
        </section>

        <section id="example">
            <h2>Example: Processing Large Files</h2>
<pre><code><span class="keyword">local</span>
    f: <span class="type">SIMPLE_FILE</span>
    chunk: STRING_32
<span class="keyword">do</span>
    <span class="keyword">create</span> f.make (<span class="string">"large_log.txt"</span>)

    <span class="comment">-- Stream in chunks (memory efficient)</span>
    f.open_read
    <span class="keyword">from</span>
    <span class="keyword">until</span>
        f.end_of_file
    <span class="keyword">loop</span>
        chunk := f.read_chunk (4096)  <span class="comment">-- 4KB at a time</span>
        process_chunk (chunk)
    <span class="keyword">end</span>
    f.close
<span class="keyword">end</span></code></pre>
        </section>

        <section id="batch">
            <h2>Example: Batch File Operations</h2>
<pre><code><span class="keyword">local</span>
    files: <span class="type">SIMPLE_FILES</span>
    matches: ARRAYED_LIST [<span class="type">SIMPLE_FILE</span>]
<span class="keyword">do</span>
    <span class="keyword">create</span> files.make (<span class="string">"/project/src"</span>)

    <span class="comment">-- Find all Eiffel files</span>
    matches := files.find_by_extension (<span class="string">"e"</span>)

    <span class="comment">-- Find recursively</span>
    matches := files.find_recursive (<span class="string">"*.e"</span>)

    <span class="comment">-- Process each file</span>
    <span class="keyword">across</span> matches <span class="keyword">as</span> f <span class="keyword">loop</span>
        print (f.path_string + <span class="string">": "</span> + f.size.out + <span class="string">" bytes%N"</span>)
    <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
        </section>
    </main>

    <footer>
        <p>Part of the <a href="https://github.com/simple-eiffel">simple_*</a> ecosystem of focused, single-purpose Eiffel libraries.</p>
        <p>&copy; 2025 Larry Rix. MIT License.</p>
    </footer>
</body>
</html>
