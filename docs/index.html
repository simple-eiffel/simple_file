<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIMPLE_FILE - Documentation</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>SIMPLE_FILE</h1>
        <p>Simple file and directory operations for Eiffel</p>
    </header>

    <nav>
        <a href="#overview">Overview</a>
        <a href="#quick-start">Quick Start</a>
        <a href="#api">API Reference</a>
        <a href="#examples">Examples</a>
        <a href="https://github.com/simple-eiffel/simple_file">GitHub</a>
    </nav>

    <main>
        <section id="overview">
            <h2>Overview</h2>
            <p>SIMPLE_FILE provides a clean, intuitive API for file and directory operations in Eiffel. It wraps the standard Eiffel file classes with a simpler interface and better error handling.</p>

            <h3>Key Features</h3>
            <ul>
                <li>File status checking (exists, readable, writable)</li>
                <li>File metadata access (size, timestamps, extension)</li>
                <li>Read operations (text, bytes, lines)</li>
                <li>Write operations with append support</li>
                <li>File operations (copy, move, rename, delete)</li>
                <li>Directory listing and manipulation</li>
                <li>Memory-efficient streaming for large files</li>
                <li>Path transformation utilities</li>
            </ul>
        </section>

        <section id="quick-start">
            <h2>Quick Start</h2>
            <h3>Installation</h3>
            <pre><code>&lt;library name="simple_file" location="$SIMPLE_FILE/simple_file.ecf"/&gt;</code></pre>

            <h3>Environment Variable</h3>
            <pre><code>SIMPLE_FILE=/path/to/simple_file</code></pre>

            <h3>Basic Usage</h3>
            <pre><code>local
    f: SIMPLE_FILE
do
    create f.make ("myfile.txt")

    -- Write content
    f.write_text ("Hello, World!")

    -- Read content back
    print (f.read_text)

    -- Get file info
    print ("Size: " + f.size.out)
end</code></pre>
        </section>

        <section id="api">
            <h2>API Reference</h2>

            <h3>Creation</h3>
            <table>
                <tr><th>Feature</th><th>Description</th></tr>
                <tr><td><code>make (path)</code></td><td>Create from string path</td></tr>
                <tr><td><code>make_with_path (path)</code></td><td>Create from PATH object</td></tr>
            </table>

            <h3>File Status</h3>
            <table>
                <tr><th>Feature</th><th>Description</th></tr>
                <tr><td><code>exists</code></td><td>Does file/directory exist?</td></tr>
                <tr><td><code>is_readable</code></td><td>Can file be read?</td></tr>
                <tr><td><code>is_writable</code></td><td>Can file be written?</td></tr>
                <tr><td><code>is_executable</code></td><td>Can file be executed?</td></tr>
                <tr><td><code>is_directory</code></td><td>Is this a directory?</td></tr>
                <tr><td><code>is_file</code></td><td>Is this a regular file?</td></tr>
            </table>

            <h3>File Metadata</h3>
            <table>
                <tr><th>Feature</th><th>Description</th></tr>
                <tr><td><code>size</code></td><td>Size in bytes</td></tr>
                <tr><td><code>modified_timestamp</code></td><td>Modification time (epoch)</td></tr>
                <tr><td><code>extension</code></td><td>File extension (e.g., "txt")</td></tr>
                <tr><td><code>base_name</code></td><td>Name without extension</td></tr>
                <tr><td><code>file_name</code></td><td>Full file name</td></tr>
                <tr><td><code>parent_path</code></td><td>Parent directory path</td></tr>
            </table>

            <h3>Read Operations</h3>
            <table>
                <tr><th>Feature</th><th>Description</th></tr>
                <tr><td><code>read_text</code></td><td>Read entire file as UTF-8 text</td></tr>
                <tr><td><code>read_bytes</code></td><td>Read as byte array</td></tr>
                <tr><td><code>read_lines</code></td><td>Read all lines into list</td></tr>
                <tr><td><code>each_line (action)</code></td><td>Stream lines one at a time</td></tr>
                <tr><td><code>read_chunk (offset, size)</code></td><td>Read byte chunk at offset</td></tr>
            </table>

            <h3>Write Operations</h3>
            <table>
                <tr><th>Feature</th><th>Description</th></tr>
                <tr><td><code>write_text (content)</code></td><td>Write text (overwrites)</td></tr>
                <tr><td><code>write_bytes (bytes)</code></td><td>Write byte array</td></tr>
                <tr><td><code>write_lines (lines)</code></td><td>Write list of lines</td></tr>
                <tr><td><code>append_text (content)</code></td><td>Append text to file</td></tr>
                <tr><td><code>append_line (line)</code></td><td>Append line with newline</td></tr>
                <tr><td><code>clear</code></td><td>Empty the file</td></tr>
            </table>

            <h3>File Operations</h3>
            <table>
                <tr><th>Feature</th><th>Description</th></tr>
                <tr><td><code>copy_to (dest)</code></td><td>Copy to destination</td></tr>
                <tr><td><code>move_to (dest)</code></td><td>Move to destination</td></tr>
                <tr><td><code>rename_to (name)</code></td><td>Rename (same directory)</td></tr>
                <tr><td><code>delete</code></td><td>Delete file</td></tr>
                <tr><td><code>create_if_missing</code></td><td>Create empty if not exists</td></tr>
            </table>

            <h3>Directory Operations</h3>
            <table>
                <tr><th>Feature</th><th>Description</th></tr>
                <tr><td><code>entries</code></td><td>All entries in directory</td></tr>
                <tr><td><code>files</code></td><td>Only files (not subdirs)</td></tr>
                <tr><td><code>directories</code></td><td>Only subdirectories</td></tr>
                <tr><td><code>files_with_extension (ext)</code></td><td>Files with specific extension</td></tr>
                <tr><td><code>create_directory</code></td><td>Create directory</td></tr>
                <tr><td><code>create_directory_recursive</code></td><td>Create with parents</td></tr>
                <tr><td><code>delete_directory</code></td><td>Delete empty directory</td></tr>
                <tr><td><code>delete_directory_recursive</code></td><td>Delete with contents</td></tr>
            </table>
        </section>

        <section id="examples">
            <h2>Examples</h2>

            <h3>Processing Large Files</h3>
            <pre><code>local
    f: SIMPLE_FILE
do
    create f.make ("large_log.txt")

    -- Process line by line (memory efficient)
    f.each_line (agent (line: STRING_32)
        do
            if line.has_substring ("ERROR") then
                print (line + "%N")
            end
        end)
end</code></pre>

            <h3>Directory Listing</h3>
            <pre><code>local
    dir: SIMPLE_FILE
do
    create dir.make ("src/")

    -- Get all Eiffel files
    across dir.files_with_extension ("e") as f loop
        print (f.item + "%N")
    end
end</code></pre>
        </section>
    </main>

    <footer>
        <p>&copy; 2024-2025 Larry Rix. MIT License.</p>
        <p><a href="https://github.com/simple-eiffel/simple_file">GitHub</a></p>
    </footer>
</body>
</html>
